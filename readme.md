# gpsmap
## 概要
漁場の形は花形であり、楕円の集まりである。楕円一つの面積を求め、それぞれの漁場間の面積の大小関係を可視化する。
## 下準備
時間について昇順にデータをソートし、座標はlocsに別保存する。
## 漁場の原点（基準点）について
点同士のユークリッド距離を計算し、リストd_startに2点間の距離を昇順に格納。リストの適当な添字の場所の距離が任意の距離以下だったらそこを原点とする。
は青原点standard_pointは青マーカー
## 漁場一つ分の判定
楕円一つを判定する。原点から少し離れた点(start_locs,赤マーカー)を判定し、漁船が一つの楕円を描き始めたとする。そのあとに、もう一度原点と近い距離になったら
楕円を描き終わったと判定(end_locs,紫マーカー)する。こうして楕円の始まりの点（時間）と終わりの点（時間）がわかったので、その間
に点を取り面積を計算する。計算式は

$\frac{1}{2}\left|\sum_{j=1}^{n}\left ( x_{j}-x_{j+1} \right ) *\left ( y_{j}+y_{j+1} \right )\right||$
![image](https://github.com/SmartFisheries/gpsmap/assets/132335677/a26bd551-2dd2-4310-b7ac-d231660bacd7)

緑マーカーでプロットする。
![image](https://github.com/SmartFisheries/gpsmap/assets/132335677/8b8da0bc-3dd0-45db-ade9-b17b51f21d48)

## 欠点
赤マーカーや紫マーカが表示されなかったり、end_locsに行きつかないまたは原点の場所が漁が終わった後だったりして、マーカーが関係ないところに大量にプロットされることがある。また、end_pointの条件が甘く楕円を二つとる場合もあるため、場合に合わせてパラメータを変える必要がある。
